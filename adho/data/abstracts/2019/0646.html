<?xml version="1.0"?>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<!--THIS FILE IS GENERATED FROM AN XML MASTER. DO NOT EDIT (5)-->
		<title>The CHQL Query Language for Conceptual History Relying on Google Books</title>
		<meta name="author" content="Jens Willkomm , Christoph Schmidt-Petri , Martin Schäler , Michael Schefczyk , and Klemens Böhm"/>
		<meta name="generator" content="Text Encoding Initiative Consortium XSLT stylesheets"/>
		<meta name="DC.Title" content="The CHQL Query Language for Conceptual History Relying on Google Books"/>
		<meta name="DC.Type" content="Text"/>
		<meta name="DC.Format" content="text/html"/>
		<link href="http://www.tei-c.org/release/xml/tei/stylesheet/tei.css" rel="stylesheet" type="text/css"/>
		<link rel="stylesheet" media="print" type="text/css" href="http://www.tei-c.org/release/xml/tei/stylesheet/tei-print.css"/>
		<style>
 div.dh2019 { max-width:1000px; margin: auto;}
 body {
       font-family: verdana;
       font-size: 11px;
}
 p {
    font-family: verdana;
    font-size: 11px;
}
</style>
	</head>
	<body>
		<div class="dh2019">
			<img src="https://dev.clariah.nl/files/dh2019/logoos/EP_banner_DH20194.png" alt="DH2019 Utrecht University, The Netherlands" width="100%"/>
			<hr/>
			<br/>
			<div class="stdheader autogenerated">
				<h1 class="maintitle">The CHQL Query Language for Conceptual History Relying on Google Books</h1>
			</div>
			<div class="stdfooter autogenerated">
				<address>Jens Willkomm (jens.willkomm@kit.edu), Department of Informatics, Karlsruhe Institute of Technology und Christoph Schmidt-Petri (christoph.schmidt-petri@kit.edu), Department of Humanities, Karlsruhe Institute of Technology und Martin Schäler (martin.schaeler@kit.edu), Department of Informatics, Karlsruhe Institute of Technology und Michael Schefczyk (michael.schefczyk@kit.edu), Department of Humanities, Karlsruhe Institute of Technology und Klemens Böhm (klemens.boehm@kit.edu), Department of Informatics, Karlsruhe Institute of Technology</address>
			</div>
			<br/>
			<div class="dhconvalidator-xml-link"/>
			<!--TEI front-->
			<!--TEI body-->
			<div class="DH-Heading1" id="index.xml-body.1_div.1">
				<h2 class="DH-Heading1">
					<span class="headingNumber">1. </span>
					<span class="head">Introduction</span>
				</h2>
				<p style="text-align:left; ">The digitization of large time-labeled bibliographies has resulted in corpora such as the Google Ngram data set (Lin et al., 2012). Such corpora extremely accurately reflect how individual words are used over time. They are expected to reveal novel insights into the evolution of language and society, provided adequate analysis systems are available. In this context, developing a comprehensive query algebra that allows domain experts to formalize complex hypotheses would be a major contribution to successfully unlock this potential.</p>
				<p style="text-align:left; ">The case of conceptual history serves as our example from the humanities. In conceptual history, researchers examine the evolution of concepts represented by words such as “peace” or “freedom”. In exploring the history of a concept, scholars commonly make use of, but are not restricted to, word-usage frequencies, word contexts, sentiment analysis, how words refer and relate to and contrast with each other, or they look for word pairs or word families whose usage is correlated (Brunner et al., 2004; Ritter and Gründer, 1971). Consider our example: how the words “East” and “West” change from merely cardinal directions to politically charged concepts after 1945.</p>
				<p style="text-align:left; ">In this paper, we present a query algebra for empirical analyses of temporal text corpora, the Conceptual History Query Language (CHQL). A 
            <span style="font-weight:bold">temporal text corpus</span>
        
         in our sense is a set of words and word chains, i.e., ngrams, together with their usage frequency at various points of time. Our query language is meant to be useful for domain experts, i.e., be descriptive and complete (match all actual and potential hypotheses of conceptual history), and bear optimization potential to allow fast query processing on large data sets. We focus on an algebra inspired by the German tradition of 
            <span style="font-weight:bold">Begriffsgeschichte</span>
        
         (conceptual history), as exemplified by the work of Reinhart Koselleck (Olsen, 2012).
      </p>
			</div>
			<div class="DH-Heading1" id="index.xml-body.1_div.2">
				<h2 class="DH-Heading1">
					<span class="headingNumber">2. </span>
					<span class="head">Related Work</span>
				</h2>
				<p style="text-align:left; ">Existing query algebras, like the one for the Structured Query Language (SQL), do not feature specific support for analyses of the kind we envisage. Other approaches from the literature, e.g., the Contextual Query Language (The Library of Congress, 2013), the Corpus Query Language (Jakubíček et al., 2010), or the ANNIS Query Language (Zeldes et al., 2009), have similar issues. The common relational algebra (Maier, 1983; Abiteboul et al., 1994), does not contain sufficiently specific operators, e.g., temporal or linguistic operators. Extensions exist to add temporal operators (Snodgrass, 1987; Snodgrass, 1995), but not linguistic operators. To query relations between words, there are special-purpose query languages. For example, SQWRL is a language to query an ontology (O'Connor and Das, 2009). Querying word relations, e.g., from an ontology, does not include all required linguistic relationships. Further, ontologies do not provide temporal information. SQWRL does not contain any temporal operator. All of these algebras have in common that they do not cover both linguistic and temporal operators required for research on conceptual history.</p>
				<p style="text-align:left; ">Related work in the digital humanities mainly consists of data processing and the analysis of text corpora (Warwick et al., 2012; Hai-Jew, 2017). Some frameworks focus on linguistic and reflective properties as well as their evolution such as (Hamilton et al., 2016a; Hamilton et al., 2016b; Prabhakaran et al., 2016; Englhardt et al., 2019). Respective systems cannot output the required information to conduct research on conceptual history in a comprehensive way. In addition, such systems do not provide a sufficiently 
            <span style="font-weight:bold">abstract</span>
        
         interface, a reason why experts are reluctant in using them (Hai-Jew, 2017).
      </p>
			</div>
			<div class="DH-Heading1" id="index.xml-body.1_div.3">
				<h2 class="DH-Heading1">
					<span class="headingNumber">3. </span>
					<span class="head">Concept Types and Operators</span>
				</h2>
				<p style="text-align:left; ">This section shows in the abstract how the operators of CHQL allow searching for concept types. A formal definition of all of our operators is given in (Willkomm et al., 2018) and will be presented at DH2019.</p>
				<p style="text-align:left; ">Conceptual history claims that pragmatic properties of historical, cultural and economic relevance are incorporated in concepts, irrespectively of whether individual users are aware of this or not. It attempts to track changes of particular concepts (such as “socialism”) over time to determine how their pragmatic relevance changes (it might mostly express generic hopes at some moment and mostly specific fears at some other). Thus, concepts will be categorized as belonging to a particular 
            <span style="font-weight:bold">concept type</span>
        
         at a particular moment in time.
      </p>
				<p style="text-align:left; ">Conceptual historians typically read and interpret large masses of texts which provide a variety of information types (e.g. word frequencies, what words appear in the context, how these words function pragmatically (individually as well as in sentences etc.)) which help to determine the concept type. Because we want to do the same using 
            <span style="font-weight:bold">Distant Reading</span>
        
         techniques (Moretti, 2013), these information types need to be translated into observable data characteristics for which individual operators in the query language are defined. Finding an adequate number of helpful information types, structuring them and converting them into computable and combinable items is the main challenge of our project.
      </p>
				<p style="text-align:left; ">Since there is no accepted formal specifications of information types, we describe an interpretation of Koselleck’s information types in order to map them on to data characteristics. Data characteristics are quantitative feature either directly present in our data (e.g., the usage frequency of the word “socialism” in 1848), or a derived piece of information (e.g. the difference between the usage frequency of words “socialism” and “communism” from 1848 to 1989). We describe which data characteristics are needed to simulate Koselleck’s information needs and explain our realization of all data characteristics and their implementation as operators.</p>
				<div class="figure">
					<img src="Pictures/d7d2103d7f8ad8f32ef03ab87cacb5e7.png" alt="The relationship between concept types, information types, data characteristics and operators to hypothesize concept types" class="inline" style=" width:15.48cm; height:6.64cm;"/>
					<div class="caption">Figure 1. The relationship between concept types, information types, data characteristics and operators to hypothesize concept types</div>
				</div>
				<p style="text-align:left; ">One of Koselleck’s implicit assumptions is that each concept type has specific characteristics. In our terminology: any concept type can be described using a specific combination of information types. For example, Koselleck may plausibly be read as claiming that words that form a 
            <span style="font-weight:bold">parallel concept</span>
        
         (concept type) would have “similar” 
            <span style="font-weight:bold">word frequencies</span>
        
         and have a significant number of identical 
            <span style="font-weight:bold">surrounding words</span>
        
         (information types). By contrast, 
            <span style="font-weight:bold">counter concepts</span>
        
         would also have similar word frequencies yet their surrounding words would behave differently. For instance, if “enlightenment” and “reason” are parallel concepts for a particular period, their relative word frequencies should be similar, and if “emancipation” occurs near “enlightenment”, it should occur near “reason” too, and both concepts should be endorsed rather than criticized (in some sense). By contrast, if “East” and “West” are counter concepts, their word contexts should contain different words, and there should be some sort of contrast in attitude between them.
      </p>
				<p style="text-align:left; ">If every concept type has its own specific linguistic and pragmatic properties and hence should be representable by a specific 
            <span style="font-weight:bold">combination</span>
        
         of information types, it should be possible to develop a system that finds these information types in large corpora that are not amenable to conventional close reading. To this end, we need a formal definition of any information type which is observable and quantifiable.
      </p>
				<p style="text-align:left; ">We present a selection of some of the data characteristics with the information type they are intended to represent:</p>
				<ul>
					<li class="item">
						<span style="font-style:italic">Individual Context:</span>
          
           This requires two data characteristics: a set of surrounding words for a target word, i.e., the linguistic context, and the sentiment for this context, by summing up the sentiment values of the words of the context. Our 
              <span style="font-weight:bold">surroundingwords</span>
          
           operator and 
              <span style="font-weight:bold">sentiment</span>
          
           operator implement this.
        </li>
					<li class="item">
						<span style="font-style:italic">Topic Grouping:</span>
          
           Using 
              <span style="font-weight:bold">topic modeling</span>
          
          , groups of words may be classified as belonging to a particular topic (e.g. geography or politics).
        </li>
					<li class="item">
						<span style="font-style:italic">Sentence Structure:</span>
          
           This again requires two data characteristics: the function of a word, i.e., differentiate between parts of speech, and completing phrases, i.e., search for missing words in a phrase. The first data characteristic is implemented by our operator 
              <span style="font-weight:bold">pfilter</span>
          
          . We implement the second one as a pattern-matching operator which we call 
              <span style="font-weight:bold">textsearch</span>
          
          .
        </li>
					<li class="item">
						<span style="font-style:italic">Frequency Data:</span>
          
           Neologisms, which might be evidence for radical changes, would display abrupt increases in word-usage frequency over time. To find this and similar characteristics, we propose an operator 
              <span style="font-weight:bold">time series-based selection</span>
          
           that compares the time-series values with a constant. To allow for a temporal restriction, we also provide a 
              <span style="font-weight:bold">subsequence</span>
          
           operator that limits the selection to an arbitrary time interval. The combination of both operators facilitates the search for neologisms.
        </li>
					<li class="item">
						<span style="font-style:italic">Sentiment Analysis:</span>
          
           Using well-proven resources such as LIWC (Wolf et al., 2008) or customized dictionaries, our 
              <span style="font-weight:bold">sentiment</span>
          
           operator represents the emotions associated with a concept, relying on the words in its context.
        </li>
				</ul>
			</div>
			<div class="DH-Heading1" id="index.xml-body.1_div.4">
				<h2 class="DH-Heading1">
					<span class="headingNumber">4. </span>
					<span class="head">Results</span>
				</h2>
				<p style="text-align:left; ">Using CHQL, we have tested the hypotheses that (1) “East” and “West” have acquired a political context after 1945, whereas “North” and “South” haven’t, and that (2) the former have turned into counter concepts in the political sphere, their contexts expressing diverging attitudes, whereas the latter have remained parallel concepts in the geographical sphere. The operator trees 1 and 2 shown in Figures 2 and 4 illustrate how CHQL allows combining the operators mentioned to perform a single search, yielding the results shown in Figures 3 and 5.</p>
				<div class="figure">
					<img src="Pictures/7325b31cf91fc2ec9a262031a0327a39.png" alt="Formalisation of hypothesis 1 in CHQL" class="inline" style=" width:9.11cm; height:6.5cm;"/>
					<div class="caption">Figure 2. Formalisation of hypothesis 1 in CHQL</div>
				</div>
				<div class="figure">
					<img src="Pictures/34b85bd493b0e415040cafef4812433d.png" alt="The result of Query 1 on the Google Books Ngram Corpus" class="inline" style=" width:13.24cm; height:8.37cm;"/>
					<div class="caption">Figure 3. The result of Query 1 on the Google Books Ngram Corpus</div>
				</div>
				<div class="figure">
					<img src="Pictures/1028b1c0418e2c933abb0f1434997015.png" alt="Formalisation of hypothesis 2 in CHQL" class="inline" style=" width:15.74cm; height:7.95cm;"/>
					<div class="caption">Figure 4. Formalisation of hypothesis 2 in CHQL</div>
				</div>
				<div class="figure">
					<img src="Pictures/f2cc92aeb6050bf992f4dd1c817148e4.png" alt="The result of Query 2 on the Google Books Ngram Corpus" class="inline" style=" width:13.08cm; height:8.37cm;"/>
					<div class="caption">Figure 5. The result of Query 2 on the Google Books Ngram Corpus</div>
				</div>
			</div>
			<!--TEI back-->
			<div class="bibliogr" id="index.xml-back.1_div.1">
				<h2>
					<span class="headingNumber">Appendix A </span>
				</h2>
				<div class="listhead">Bibliography</div>
				<ol class="listBibl">
					<li id="index.xml-bibl-w8444701aab3b3b1b1b3">
						<div class="biblfree">
							<span style="font-weight:bold">Abiteboul, S., Hull, R. and Vianu, V.</span>
							<span> (1994). </span>
							<span style="font-style:italic">Foundations of Databases: The Logical Level</span>
							<span>. Pearson.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1b5">
						<div class="biblfree">
							<span style="font-weight:bold">Brunner, O., Conze, W. and Koselleck, R. (eds).</span>
							<span> (2004). </span>
							<span style="font-style:italic">Geschichtliche Grundbegriffe (Volumes 1-8)</span>
							<span>. Klett-Cotta Verlag.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1b7">
						<div class="biblfree">
							<span style="font-weight:bold">Englhardt, A., Willkomm, J., Schäler, M. and Böhm, K.</span>
							<span> (2019). Improving Semantic Change Analysis by Combining Word Embeddings and Word Frequencies. </span>
							<span style="font-style:italic">International Journal on Digital Libraries</span>
							<span>.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1b9">
						<div class="biblfree">
							<span style="font-weight:bold">Hai-Jew, S. (ed).</span>
							<span> (2017). </span>
							<span style="font-style:italic">Data Analytics in Digital Humanities</span>
							<span>. Springer-Verlag GmbH.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c11">
						<div class="biblfree">
							<span style="font-weight:bold">Hamilton, W., Leskovec, J. and Jurafsky, D.</span>
							<span> (2016a). Cultural Shift or Linguistic Drift? Comparing Two Computational Measures of Semantic Change. </span>
							<span style="font-style:italic">Proceedings of the Conference on Empirical Methods in Natural Language Processing (EMNLP ’16)</span>
							<span>. pp. 2116–2121.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c13">
						<div class="biblfree">
							<span style="font-weight:bold">Hamilton, W., Leskovec, J. and Jurafsky, D.</span>
							<span> (2016b). Diachronic Word Embeddings Reveal Statistical Laws of Semantic Change.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c15">
						<div class="biblfree">
							<span style="font-weight:bold">Jakubíček, M., Kilgarriff, A., McCarthy, D. and Rychlý, P.</span>
							<span> (2010). Fast syntactic searching in very large corpora for many languages. </span>
							<span style="font-style:italic">Proceedings of the 24th Pacific Asia Conference on Language, Information and Computation (PACLIC 24)</span>
							<span>. pp. 741–747.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c17">
						<div class="biblfree">
							<span style="font-weight:bold">Lin, Y., Michel, J.-B., Aiden, E. L., Orwant, J., Brockman, W. and Petrov, S.</span>
							<span> (2012). Syntactic annotations for the Google Books Ngram Corpus. </span>
							<span style="font-style:italic">Proceedings of the ACL 2012 System Demonstrations (ACL ’12)</span>
							<span>. Association for Computational Linguistics, pp. 169–174.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c19">
						<div class="biblfree">
							<span style="font-weight:bold">Maier, D.</span>
							<span> (1983). </span>
							<span style="font-style:italic">Theory of Relational Databases</span>
							<span>. Computer Science Press.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c21">
						<div class="biblfree">
							<span style="font-weight:bold">Moretti, F.</span>
							<span> (2013). </span>
							<span style="font-style:italic">Distant Reading</span>
							<span>. Verso Books.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c23">
						<div class="biblfree">
							<span style="font-weight:bold">O’Connor, M. and Das, A.</span>
							<span> (2009). SQWRL: a query language for OWL. </span>
							<span style="font-style:italic">Proceedings of the 6th International Conference on OWL: Experiences and Directions (OWLED ’09)</span>
							<span>. pp. 208–215.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c25">
						<div class="biblfree">
							<span style="font-weight:bold">Olsen, N.</span>
							<span> (2012). </span>
							<span style="font-style:italic">History in the Plural: An Introduction to the Work of Reinhart Koselleck</span>
							<span>. Berghahn Books Inc.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c27">
						<div class="biblfree">
							<span style="font-weight:bold">Prabhakaran, V., Hamilton, W., McFarland, D. and Jurafsky, D.</span>
							<span> (2016). Predicting the Rise and Fall of Scientific Topics from Trends in their Rhetorical Framing. </span>
							<span style="font-style:italic">Proceedings of the 54th Annual Meeting of the Association for Computational Linguistics (ACL ’16)</span>
							<span>. Association for Computational Linguistics, pp. 1170–1180 doi:10.18653/v1/p16-1111.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c29">
						<div class="biblfree">
							<span style="font-weight:bold">Ritter, J. and Gründer, K. (eds).</span>
							<span>(1971). </span>
							<span style="font-style:italic">Historisches Wörterbuch Der Philosophie (13 Volume Set)</span>
							<span>. Schwabe.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c31">
						<div class="biblfree">
							<span style="font-weight:bold">Snodgrass, R.</span>
							<span> (1987). The temporal query language TQuel. </span>
							<span style="font-style:italic">ACM Transactions on Database Systems</span>
							<span>, </span>
							<span style="font-weight:bold">12</span>
							<span>(2): 247–298 doi:10.1145/22952.22956.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c33">
						<div class="biblfree">
							<span style="font-weight:bold">Snodgrass, R. (ed).</span>
							<span> (1995). </span>
							<span style="font-style:italic">The TSQL2 Temporal Query Language</span>
							<span>. . Vol. 330. (The Springer International Series in Engineering and Computer Science). Springer US.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c35">
						<div class="biblfree">
							<span style="font-weight:bold">The Library of Congress</span>
							<span> (2013). </span>
							<span style="font-style:italic">The Contextual Query Language</span>
							<span>. http://www.loc.gov/standards/sru/cql/.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c37">
						<div class="biblfree">
							<span style="font-weight:bold">Warwick, C., Terras, M. and Nyhan, J. (eds).</span>
							<span> (2012). </span>
							<span style="font-style:italic">Digital Humanities in Practice</span>
							<span>. Facet Publishing.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c39">
						<div class="biblfree">
							<span style="font-weight:bold">Willkomm, J., Schmidt-Petri, C., Schäler, M., Schefczyk, M. and Böhm, K.</span>
							<span> (2018). A Query Algebra for Temporal Text Corpora. </span>
							<span style="font-style:italic">Proceedings of the 18th ACM/IEEE on Joint Conference on Digital Libraries (JCDL ’18)</span>
							<span>. ACM Press, pp. 183–192 doi:10.1145/3197026.3197044.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c41">
						<div class="biblfree">
							<span style="font-weight:bold">Wolf, M., Horn, A., Mehl, M., Haug, S., Pennebaker, J. and Kordy, H.</span>
							<span> (2008). Computergestützte quantitative Textanalyse. </span>
							<span style="font-style:italic">Diagnostica</span>
							<span>: 85–98 doi:10.1026/0012-1924.54.2.85.</span>
						</div>
					</li>
					<li id="index.xml-bibl-w8444701aab3b3b1b1c43">
						<div class="biblfree">
							<span style="font-weight:bold">Zeldes, A., Lüdeling, A., Ritz, J. and Chiarcos, C.</span>
							<span> (2009). </span>
							<span style="font-style:italic">ANNIS: A Search Tool for Multi-Layer Annotated Corpora</span>
							<span>. Humboldt-Universität zu Berlin, Philosophische Fakultät II doi:10.18452/13437.</span>
						</div>
					</li>
				</ol>
			</div>
			<hr/>
		</div>
	</body>
</html>
